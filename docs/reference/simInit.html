<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html>
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Initialize a new simulation — simInit • SpaDES.core</title>

<!-- jquery -->
<script src="https://code.jquery.com/jquery-3.1.0.min.js" integrity="sha384-nrOSfDHtoPMzJHjVTdCopGqIqeYETSXhZDFyniQ8ZHcVy08QesyHcnOUpMpqnmWq" crossorigin="anonymous"></script>
<!-- Bootstrap -->
<link href="https://maxcdn.bootstrapcdn.com/bootswatch/3.3.7/flatly/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous">

<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>

<!-- Font Awesome icons -->
<link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" integrity="sha384-T8Gy5hrqNKT+hzMclPo118YTQO6cYprQmhrYwIiQ/3axmI1hQomh7Ud2hPOy8SP1" crossorigin="anonymous">

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/1.7.1/clipboard.min.js" integrity="sha384-cV+rhyOuRHc9Ub/91rihWcGmMmCXDeksTtCihMupQHSsi8GIIRDG0ThDc3HGQFJ3" crossorigin="anonymous"></script>

<!-- sticky kit -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/sticky-kit/1.1.3/sticky-kit.min.js" integrity="sha256-c4Rlo1ZozqTPE2RLuvbusY3+SU1pQaJC0TjuhygMipw=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>



<meta property="og:title" content="Initialize a new simulation — simInit" />

<meta property="og:description" content="Create a new simulation object, the &quot;sim&quot; object. This object is implemented
using an environment where all objects and functions are placed.
Since environments in R are
pass by reference, &quot;putting&quot; objects in the sim object does no actual copy. The
simList also stores all parameters,
and other important simulation information, such
as times, paths, modules, and module load order. See more details below.
This may allow for more efficient Caching. This passes all
arguments to simInit, then the created simList is passed
to spades" />
<meta name="twitter:card" content="summary" />



<!-- mathjax -->
<script src='https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML'></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->


<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-58633549-6"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-58633549-6');
</script>

  </head>

  <body>
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">SpaDES.core</a>
        <span class="label label-default" data-toggle="tooltip" data-placement="bottom" title="Released package">0.2.1</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fa fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../articles/i-introduction.html">01 Introduction to `SpaDES`</a>
    </li>
    <li>
      <a href="../articles/ii-modules.html">02 Building modules in `SpaDES`</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
      
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/PredictiveEcology/SpaDES.core">
    <span class="fa fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      
      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Initialize a new simulation</h1>
    <small class="dont-index">Source: <a href='https://github.com/PredictiveEcology/SpaDES.core/blob/master/R/simulation-simInit.R'><code>R/simulation-simInit.R</code></a></small>
    <div class="hidden name"><code>simInit.Rd</code></div>
    </div>

    <div class="ref-description">
    
    <p>Create a new simulation object, the "sim" object. This object is implemented
using an <code>environment</code> where all objects and functions are placed.
Since environments in <code>R</code> are
pass by reference, "putting" objects in the sim object does no actual copy. The
<code>simList</code> also stores all parameters,
and other important simulation information, such
as times, paths, modules, and module load order. See more details below.</p>
<p>This may allow for more efficient Caching. This passes all
arguments to simInit, then the created <code>simList</code> is passed
to <code>spades</code></p>
    
    </div>

    <pre class="usage"><span class='fu'>simInit</span>(<span class='no'>times</span>, <span class='no'>params</span>, <span class='no'>modules</span>, <span class='no'>objects</span>, <span class='no'>paths</span>, <span class='no'>inputs</span>, <span class='no'>outputs</span>, <span class='no'>loadOrder</span>,
  <span class='kw'>notOlderThan</span> <span class='kw'>=</span> <span class='kw'>NULL</span>)


  <span class='co'># S4 method for list,list,list,list,list,data.frame,data.frame,character</span>
<span class='fu'>simInit</span>(<span class='no'>times</span>,
  <span class='no'>params</span>, <span class='no'>modules</span>, <span class='no'>objects</span>, <span class='no'>paths</span>, <span class='no'>inputs</span>, <span class='no'>outputs</span>, <span class='no'>loadOrder</span>,
  <span class='kw'>notOlderThan</span> <span class='kw'>=</span> <span class='kw'>NULL</span>)

<span class='co'># S4 method for ANY,ANY,ANY,character,ANY,ANY,ANY,ANY</span>
<span class='fu'>simInit</span>(<span class='no'>times</span>, <span class='no'>params</span>,
  <span class='no'>modules</span>, <span class='no'>objects</span>, <span class='no'>paths</span>, <span class='no'>inputs</span>, <span class='no'>outputs</span>, <span class='no'>loadOrder</span>, <span class='kw'>notOlderThan</span> <span class='kw'>=</span> <span class='kw'>NULL</span>)

<span class='co'># S4 method for ANY,ANY,character,ANY,ANY,ANY,ANY,ANY</span>
<span class='fu'>simInit</span>(<span class='no'>times</span>, <span class='no'>params</span>,
  <span class='no'>modules</span>, <span class='no'>objects</span>, <span class='no'>paths</span>, <span class='no'>inputs</span>, <span class='no'>outputs</span>, <span class='no'>loadOrder</span>, <span class='kw'>notOlderThan</span> <span class='kw'>=</span> <span class='kw'>NULL</span>)

<span class='co'># S4 method for ANY,ANY,ANY,ANY,ANY,ANY,ANY,ANY</span>
<span class='fu'>simInit</span>(<span class='no'>times</span>, <span class='no'>params</span>, <span class='no'>modules</span>,
  <span class='no'>objects</span>, <span class='no'>paths</span>, <span class='no'>inputs</span>, <span class='no'>outputs</span>, <span class='no'>loadOrder</span>, <span class='kw'>notOlderThan</span> <span class='kw'>=</span> <span class='kw'>NULL</span>)

<span class='fu'>simInitAndSpades</span>(<span class='no'>...</span>)</pre>
    
    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>times</th>
      <td><p>A named list of numeric simulation start and end times
(e.g., <code>times = list(start = 0.0, end = 10.0)</code>).</p></td>
    </tr>
    <tr>
      <th>params</th>
      <td><p>A list of lists of the form list(moduleName=list(param1=value, param2=value)).
See details.</p></td>
    </tr>
    <tr>
      <th>modules</th>
      <td><p>A named list of character strings specifying the names
of modules to be loaded for the simulation. Note: the module name
should correspond to the R source file from which the module is loaded.
Example: a module named "caribou" will be sourced form the file
<code class="file">caribou.R</code>, located at the specified <code><a href='simList-accessors-paths.html'>modulePath(simList)</a></code> (see below).</p></td>
    </tr>
    <tr>
      <th>objects</th>
      <td><p>(optional) A vector of object names (naming objects
that are in the calling environment of
the <code>simInit</code>, which is often the
<code>.GlobalEnv</code> unless used programmatically
-- NOTE: this mechanism will
fail if object name is in a package dependency), or
a named list of data objects to be
passed into the simList (more reliable).
These objects will be accessible
from the simList as a normal list, e.g,. <code><a href='objects.html'>mySim$obj</a></code>.</p></td>
    </tr>
    <tr>
      <th>paths</th>
      <td><p>An optional named list with up to 4 named elements,
<code>modulePath</code>, <code>inputPath</code>, <code>outputPath</code>, and <code>cachePath</code>.
See details.</p></td>
    </tr>
    <tr>
      <th>inputs</th>
      <td><p>A <code>data.frame</code>. Can specify from 1 to 6
columns with following column names: <code>objectName</code> (character, required),
<code>file</code> (character), <code>fun</code> (character), <code>package</code> (character),
<code>interval</code> (numeric), <code>loadTime</code> (numeric).
See <code><a href='simList-accessors-inout.html'>inputs</a></code> and vignette("ii-modules") section about inputs.</p></td>
    </tr>
    <tr>
      <th>outputs</th>
      <td><p>A <code>data.frame</code>. Can specify from 1 to 5
columns with following column names: <code>objectName</code> (character, required),
<code>file</code> (character), <code>fun</code> (character), <code>package</code> (character),
<code>saveTime</code> (numeric). See <code><a href='simList-accessors-inout.html'>outputs</a></code> and
<code><a href='../articles/ii-modules.html'>vignette("ii-modules")</a></code> section about outputs.</p></td>
    </tr>
    <tr>
      <th>loadOrder</th>
      <td><p>An optional list of module names specifying the order in
which to load the modules. If not specified, the module
load order will be determined automatically.</p></td>
    </tr>
    <tr>
      <th>notOlderThan</th>
      <td><p>A time, as in from <code>Sys.time()</code>. This is passed into
the <code>Cache</code> function that wraps <code>.inputObjects</code>.
If the module uses the <code>.useCache</code> parameter and it is
set to <code>TRUE</code> or <code>".inputObjects"</code>,
then the <code>.inputObjects</code> will be cached.
Setting <code>notOlderThan = Sys.time()</code> will cause the
cached versions of <code>.inputObjects</code> to be refreshed,
i.e., rerun.</p></td>
    </tr>
    <tr>
      <th>...</th>
      <td><p>Passed to simInit</p></td>
    </tr>
    </table>
    
    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>A <code>simList</code> simulation object, pre-initialized from values
specified in the arguments supplied.</p>
    
    <h2 class="hasAnchor" id="details"><a class="anchor" href="#details"></a>Details</h2>

    <h3>Calling this <code>simInit</code> function does the following:</h3>
    <table class='table'>
<tr><td><b>What</b></td><td><b>Details</b></td><td><b>Argument(s) to use</b></td></tr>
<tr><td>fills <code>simList</code> slots</td><td>places the arguments <code>times</code>,
    <code>params</code>, <code>modules</code>, <code>paths</code> into equivalently named
    <code>simList</code> slots</td><td><code>times</code>,
    <code>params</code>, <code>modules</code>, <code>paths</code></td></tr>
<tr><td>sources all module files</td><td>places all function definitions in the
    <code>simList</code>, specifically, into a sub-environment of the main
    <code>simList</code> environment: e.g., <code>sim$&lt;moduleName&gt;$function1</code>
    (see section on <b>Scoping</b>)</td><td><code>modules</code></td></tr>
<tr><td>copies objects</td><td>from the global environment to the
    <code>simList</code> environment</td><td><code>objects</code></td></tr>
<tr><td>loads objects</td><td>from disk into the <code>simList</code></td><td><code>inputs</code></td></tr>
<tr><td>schedule object loading/copying</td><td>Objects can be loaded into the
    <code>simList</code> at any time during a simulation</td><td><code>inputs</code></td></tr>
<tr><td>schedule object saving</td><td>Objects can be saved to disk at any arbitrary
    time during the simulation. If specified here, this will be in addition
    to any saving due code inside a module (i.e., a module may manually
    run <code>write.table(...)</code></td><td><code>outputs</code></td></tr>
<tr><td>schedules "init" events</td><td>from all modules (see <code><a href='simList-accessors-events.html'>events</a></code>)</td><td>automatic</td></tr>
<tr><td>assesses module dependencies</td><td>via the inputs and outputs identified in their
    metadata. This gives the order of the <code>.inputObjects</code> and <code>init</code>
    events. This can be overridden by <code>loadOrder</code>.</td><td>automatic</td></tr>
<tr><td>determines time unit</td><td>takes time units of modules
      and how they fit together</td><td><code>times</code> or automatic</td></tr>
<tr><td>runs <code>.inputObjects</code> functions</td><td>from every module
    <em>in the module order as determined above</em></td><td>automatic</td></tr>
<tr><td></td><td><b>What</b></td><td><b>Details</b></td></tr>
</table>
    <p><code>params</code> can only contain updates to any parameters that are defined in
the metadata of modules. Take the example of a module named, <code>Fire</code>, which
has a parameter named <code>.plotInitialTime</code>. In the metadata of that module,
it says <code>TRUE</code>. Here we can override that default with:
<code>list(Fire=list(.plotInitialTime=NA))</code>, effectively turning off plotting. Since
this is a list of lists, one can override the module defaults for multiple parameters
from multiple modules all at once, with say:
<code>list(Fire = list(.plotInitialTime = NA, .plotInterval = 2),
           caribouModule = list(N = 1000))</code>.</p>
<p>We implement a discrete event simulation in a more modular fashion so it is
easier to add modules to the simulation. We use S4 classes and methods,
and fast lists to manage the event queue.</p>
<p><code>paths</code> specifies the location of the module source files,
the data input files, and the saving output files. If no paths are specified
the defaults are as follows:</p>
<ul>
<li><p><code>cachePath</code>: <code>getOption("spades.cachePath")</code>;</p></li>
<li><p><code>inputPath</code>: <code>getOption("spades.modulePath")</code>;</p></li>
<li><p><code>modulePath</code>: <code>getOption("spades.inputPath")</code>;</p></li>
<li><p><code>inputPath</code>: <code>getOption("spades.outputPath")</code>.</p></li>
</ul>
    
    <h2 class="hasAnchor" id="note"><a class="anchor" href="#note"></a>Note</h2>

    <p>The user can opt to run a simpler <code>simInit</code> call without inputs, outputs, and times.
These can be added later with the accessor methods (See example). These are not required for initializing the
simulation via simInit. <code>modules</code>, <code>paths</code>, <code>params</code>, and <code>objects</code>
are all needed for successful initialization.</p>
    
    <h2 class="hasAnchor" id="parsing-and-checking-code"><a class="anchor" href="#parsing-and-checking-code"></a>Parsing and Checking Code</h2>

    
    <p>The <code>simInit</code> function will attempt to find usage of sim$xxx
or sim[['xxx']] on either side of the assignement "&lt;-" operator.
It will compare these to the module metadata, specifically
<code>inputObjects</code> for cases where objects or "gotten" from the
simList and <code>outputObjects</code> for cases where objects are
assigned to the simList.</p>
<p>It will also attempt to find potential, common function name conflicts
with things like scale and stack (both in base and raster), and
Plot (in quickPlot and some modules).</p>
<p><em>This code checking is young and may get false positives and
false negatives -- i.e., miss things</em>. It also takes computational
time, which may be undesireable in operational code.
To turn off checking (i.e.,
if there are too many false positives and negatives), set
the option <code>spades.moduleCodeChecks</code> to <code>FALSE</code>,
e.g., <code>options(spades.moduleCodeChecks = FALSE)</code></p>
    
    <h2 class="hasAnchor" id="caching"><a class="anchor" href="#caching"></a>Caching</h2>

    
    <p>Using caching with <code>SpaDES</code> is vital when building re-useable and reproducible
content. Please see the vignette dedicated to this topic. See
<a href='https://CRAN.R-project.org/package=SpaDES/vignettes/iii-cache.html'>https://CRAN.R-project.org/package=SpaDES/vignettes/iii-cache.html</a></p>
    
    <h2 class="hasAnchor" id="references"><a class="anchor" href="#references"></a>References</h2>

    <p>Matloff, N. (2011). The Art of R Programming (ch. 7.8.3).
            San Fransisco, CA: No Starch Press, Inc..
            Retrieved from <a href='https://www.nostarch.com/artofr.htm'>https://www.nostarch.com/artofr.htm</a></p>
    
    <h2 class="hasAnchor" id="see-also"><a class="anchor" href="#see-also"></a>See also</h2>

    <div class='dont-index'><p><code><a href='spades.html'>spades</a></code>,
<code><a href='simList-accessors-times.html'>times</a></code>, <code><a href='params.html'>params</a></code>, <code><a href='objects.html'>objs</a></code>, <code><a href='simList-accessors-paths.html'>paths</a></code>,
<code><a href='simList-accessors-modules.html'>modules</a></code>, <code><a href='simList-accessors-inout.html'>inputs</a></code>, <code><a href='simList-accessors-inout.html'>outputs</a></code></p></div>
    

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><span class='co'># NOT RUN {</span>
<span class='no'>mySim</span> <span class='kw'>&lt;-</span> <span class='fu'>simInit</span>(
 <span class='kw'>times</span> <span class='kw'>=</span> <span class='fu'>list</span>(<span class='kw'>start</span> <span class='kw'>=</span> <span class='fl'>0.0</span>, <span class='kw'>end</span> <span class='kw'>=</span> <span class='fl'>2.0</span>, <span class='kw'>timeunit</span> <span class='kw'>=</span> <span class='st'>"year"</span>),
 <span class='kw'>params</span> <span class='kw'>=</span> <span class='fu'>list</span>(
   <span class='kw'>.globals</span> <span class='kw'>=</span> <span class='fu'>list</span>(<span class='kw'>stackName</span> <span class='kw'>=</span> <span class='st'>"landscape"</span>, <span class='kw'>burnStats</span> <span class='kw'>=</span> <span class='st'>"nPixelsBurned"</span>)
 ),
 <span class='kw'>modules</span> <span class='kw'>=</span> <span class='fu'>list</span>(<span class='st'>"randomLandscapes"</span>, <span class='st'>"fireSpread"</span>, <span class='st'>"caribouMovement"</span>),
 <span class='kw'>paths</span> <span class='kw'>=</span> <span class='fu'>list</span>(<span class='kw'>modulePath</span> <span class='kw'>=</span> <span class='fu'>system.file</span>(<span class='st'>"sampleModules"</span>, <span class='kw'>package</span> <span class='kw'>=</span> <span class='st'>"SpaDES.core"</span>))
)
<span class='fu'><a href='spades.html'>spades</a></span>(<span class='no'>mySim</span>) <span class='co'># shows plotting</span>

<span class='co'># Change more parameters, removing plotting</span>
<span class='no'>mySim</span> <span class='kw'>&lt;-</span> <span class='fu'>simInit</span>(
 <span class='kw'>times</span> <span class='kw'>=</span> <span class='fu'>list</span>(<span class='kw'>start</span> <span class='kw'>=</span> <span class='fl'>0.0</span>, <span class='kw'>end</span> <span class='kw'>=</span> <span class='fl'>2.0</span>, <span class='kw'>timeunit</span> <span class='kw'>=</span> <span class='st'>"year"</span>),
 <span class='kw'>params</span> <span class='kw'>=</span> <span class='fu'>list</span>(
   <span class='kw'>.globals</span> <span class='kw'>=</span> <span class='fu'>list</span>(<span class='kw'>stackName</span> <span class='kw'>=</span> <span class='st'>"landscape"</span>, <span class='kw'>burnStats</span> <span class='kw'>=</span> <span class='st'>"nPixelsBurned"</span>),
   <span class='kw'>fireSpread</span> <span class='kw'>=</span> <span class='fu'>list</span>(<span class='kw'>.plotInitialTime</span> <span class='kw'>=</span> <span class='fl'>NA</span>)
 ),
 <span class='kw'>modules</span> <span class='kw'>=</span> <span class='fu'>list</span>(<span class='st'>"randomLandscapes"</span>, <span class='st'>"fireSpread"</span>, <span class='st'>"caribouMovement"</span>),
 <span class='kw'>paths</span> <span class='kw'>=</span> <span class='fu'>list</span>(<span class='kw'>modulePath</span> <span class='kw'>=</span> <span class='fu'>system.file</span>(<span class='st'>"sampleModules"</span>, <span class='kw'>package</span> <span class='kw'>=</span> <span class='st'>"SpaDES.core"</span>))
)
<span class='no'>outSim</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='spades.html'>spades</a></span>(<span class='no'>mySim</span>)

<span class='co'># A little more complicated with inputs and outputs</span>
<span class='kw'>if</span> (<span class='fu'>require</span>(<span class='no'>rgdal</span>)) {
 <span class='no'>mapPath</span> <span class='kw'>&lt;-</span> <span class='fu'>system.file</span>(<span class='st'>"maps"</span>, <span class='kw'>package</span> <span class='kw'>=</span> <span class='st'>"quickPlot"</span>)
 <span class='no'>mySim</span> <span class='kw'>&lt;-</span> <span class='fu'>simInit</span>(
   <span class='kw'>times</span> <span class='kw'>=</span> <span class='fu'>list</span>(<span class='kw'>start</span> <span class='kw'>=</span> <span class='fl'>0.0</span>, <span class='kw'>end</span> <span class='kw'>=</span> <span class='fl'>2.0</span>, <span class='kw'>timeunit</span> <span class='kw'>=</span> <span class='st'>"year"</span>),
   <span class='kw'>params</span> <span class='kw'>=</span> <span class='fu'>list</span>(
     <span class='kw'>.globals</span> <span class='kw'>=</span> <span class='fu'>list</span>(<span class='kw'>stackName</span> <span class='kw'>=</span> <span class='st'>"landscape"</span>, <span class='kw'>burnStats</span> <span class='kw'>=</span> <span class='st'>"nPixelsBurned"</span>)
   ),
   <span class='kw'>modules</span> <span class='kw'>=</span> <span class='fu'>list</span>(<span class='st'>"randomLandscapes"</span>, <span class='st'>"fireSpread"</span>, <span class='st'>"caribouMovement"</span>),
   <span class='kw'>paths</span> <span class='kw'>=</span> <span class='fu'>list</span>(<span class='kw'>modulePath</span> <span class='kw'>=</span> <span class='fu'>system.file</span>(<span class='st'>"sampleModules"</span>, <span class='kw'>package</span> <span class='kw'>=</span> <span class='st'>"SpaDES.core"</span>),
                <span class='kw'>outputPath</span> <span class='kw'>=</span> <span class='fu'>tempdir</span>()),
   <span class='kw'>inputs</span> <span class='kw'>=</span> <span class='fu'>data.frame</span>(
     <span class='kw'>files</span> <span class='kw'>=</span> <span class='fu'>dir</span>(<span class='fu'>file.path</span>(<span class='no'>mapPath</span>), <span class='kw'>full.names</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>, <span class='kw'>pattern</span> <span class='kw'>=</span> <span class='st'>"tif"</span>)[<span class='fl'>1</span>:<span class='fl'>2</span>],
     <span class='kw'>functions</span> <span class='kw'>=</span> <span class='st'>"raster"</span>,
     <span class='kw'>package</span> <span class='kw'>=</span> <span class='st'>"raster"</span>,
     <span class='kw'>loadTime</span> <span class='kw'>=</span> <span class='fl'>1</span>,
     <span class='kw'>stringsAsFactors</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>),
   <span class='kw'>outputs</span> <span class='kw'>=</span> <span class='fu'>data.frame</span>(
     <span class='fu'>expand.grid</span>(<span class='kw'>objectName</span> <span class='kw'>=</span> <span class='fu'>c</span>(<span class='st'>"caribou"</span>,<span class='st'>"landscape"</span>),
     <span class='kw'>saveTime</span> <span class='kw'>=</span> <span class='fl'>1</span>:<span class='fl'>2</span>,
     <span class='kw'>stringsAsFactors</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>))
 )

 <span class='co'># Use accessors for inputs, outputs</span>
 <span class='no'>mySim2</span> <span class='kw'>&lt;-</span> <span class='fu'>simInit</span>(
   <span class='kw'>times</span> <span class='kw'>=</span> <span class='fu'>list</span>(<span class='kw'>current</span> <span class='kw'>=</span> <span class='fl'>0</span>, <span class='kw'>start</span> <span class='kw'>=</span> <span class='fl'>0.0</span>, <span class='kw'>end</span> <span class='kw'>=</span> <span class='fl'>2.0</span>, <span class='kw'>timeunit</span> <span class='kw'>=</span> <span class='st'>"year"</span>),
   <span class='kw'>modules</span> <span class='kw'>=</span> <span class='fu'>list</span>(<span class='st'>"randomLandscapes"</span>, <span class='st'>"fireSpread"</span>, <span class='st'>"caribouMovement"</span>),
   <span class='kw'>params</span> <span class='kw'>=</span> <span class='fu'>list</span>(<span class='kw'>.globals</span> <span class='kw'>=</span> <span class='fu'>list</span>(<span class='kw'>stackName</span> <span class='kw'>=</span> <span class='st'>"landscape"</span>, <span class='kw'>burnStats</span> <span class='kw'>=</span> <span class='st'>"nPixelsBurned"</span>)),
   <span class='kw'>paths</span> <span class='kw'>=</span> <span class='fu'>list</span>(
     <span class='kw'>modulePath</span> <span class='kw'>=</span> <span class='fu'>system.file</span>(<span class='st'>"sampleModules"</span>, <span class='kw'>package</span> <span class='kw'>=</span> <span class='st'>"SpaDES.core"</span>),
     <span class='kw'>outputPath</span> <span class='kw'>=</span> <span class='fu'>tempdir</span>()
   )
 )

 <span class='co'># add by accessor is equivalent</span>
 <span class='fu'><a href='simList-accessors-inout.html'>inputs</a></span>(<span class='no'>mySim2</span>) <span class='kw'>&lt;-</span> <span class='fu'>data.frame</span>(
     <span class='kw'>files</span> <span class='kw'>=</span> <span class='fu'>dir</span>(<span class='fu'>file.path</span>(<span class='no'>mapPath</span>), <span class='kw'>full.names</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>, <span class='kw'>pattern</span> <span class='kw'>=</span> <span class='st'>"tif"</span>)[<span class='fl'>1</span>:<span class='fl'>2</span>],
     <span class='kw'>functions</span> <span class='kw'>=</span> <span class='st'>"raster"</span>,
     <span class='kw'>package</span> <span class='kw'>=</span> <span class='st'>"raster"</span>,
     <span class='kw'>loadTime</span> <span class='kw'>=</span> <span class='fl'>1</span>,
     <span class='kw'>stringsAsFactors</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>)
 <span class='fu'><a href='simList-accessors-inout.html'>outputs</a></span>(<span class='no'>mySim2</span>) <span class='kw'>&lt;-</span> <span class='fu'>data.frame</span>(
     <span class='fu'>expand.grid</span>(<span class='kw'>objectName</span> <span class='kw'>=</span> <span class='fu'>c</span>(<span class='st'>"caribou"</span>, <span class='st'>"landscape"</span>),
     <span class='kw'>saveTime</span> <span class='kw'>=</span> <span class='fl'>1</span>:<span class='fl'>2</span>,
     <span class='kw'>stringsAsFactors</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>))
 <span class='fu'>all.equal</span>(<span class='no'>mySim</span>, <span class='no'>mySim2</span>) <span class='co'># TRUE</span>

 <span class='co'># Use accessors for times -- does not work as desired because times are</span>
 <span class='co'>#   adjusted to the input timeunit during simInit</span>
 <span class='no'>mySim2</span> <span class='kw'>&lt;-</span> <span class='fu'>simInit</span>(
   <span class='kw'>params</span> <span class='kw'>=</span> <span class='fu'>list</span>(
     <span class='kw'>.globals</span> <span class='kw'>=</span> <span class='fu'>list</span>(<span class='kw'>stackName</span> <span class='kw'>=</span> <span class='st'>"landscape"</span>, <span class='kw'>burnStats</span> <span class='kw'>=</span> <span class='st'>"nPixelsBurned"</span>)
   ),
   <span class='kw'>modules</span> <span class='kw'>=</span> <span class='fu'>list</span>(<span class='st'>"randomLandscapes"</span>, <span class='st'>"fireSpread"</span>, <span class='st'>"caribouMovement"</span>),
   <span class='kw'>paths</span> <span class='kw'>=</span> <span class='fu'>list</span>(<span class='kw'>modulePath</span> <span class='kw'>=</span> <span class='fu'>system.file</span>(<span class='st'>"sampleModules"</span>, <span class='kw'>package</span> <span class='kw'>=</span> <span class='st'>"SpaDES.core"</span>),
                <span class='kw'>outputPath</span> <span class='kw'>=</span> <span class='fu'>tempdir</span>()),
   <span class='kw'>inputs</span> <span class='kw'>=</span> <span class='fu'>data.frame</span>(
     <span class='kw'>files</span> <span class='kw'>=</span> <span class='fu'>dir</span>(<span class='fu'>file.path</span>(<span class='no'>mapPath</span>), <span class='kw'>full.names</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>, <span class='kw'>pattern</span> <span class='kw'>=</span> <span class='st'>"tif"</span>)[<span class='fl'>1</span>:<span class='fl'>2</span>],
     <span class='kw'>functions</span> <span class='kw'>=</span> <span class='st'>"raster"</span>,
     <span class='kw'>package</span> <span class='kw'>=</span> <span class='st'>"raster"</span>,
     <span class='kw'>loadTime</span> <span class='kw'>=</span> <span class='fl'>1</span>,
     <span class='kw'>stringsAsFactors</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>),
   <span class='kw'>outputs</span> <span class='kw'>=</span> <span class='fu'>data.frame</span>(
     <span class='fu'>expand.grid</span>(<span class='kw'>objectName</span> <span class='kw'>=</span> <span class='fu'>c</span>(<span class='st'>"caribou"</span>,<span class='st'>"landscape"</span>),
     <span class='kw'>saveTime</span> <span class='kw'>=</span> <span class='fl'>1</span>:<span class='fl'>2</span>,
     <span class='kw'>stringsAsFactors</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>))
 )

 <span class='co'># add times by accessor fails all.equal test because "year" was not</span>
 <span class='co'>#   declared during module loading, so month became the default</span>
 <span class='fu'><a href='simList-accessors-times.html'>times</a></span>(<span class='no'>mySim2</span>) <span class='kw'>&lt;-</span> <span class='fu'>list</span>(<span class='kw'>current</span> <span class='kw'>=</span> <span class='fl'>0</span>, <span class='kw'>start</span> <span class='kw'>=</span> <span class='fl'>0.0</span>, <span class='kw'>end</span> <span class='kw'>=</span> <span class='fl'>2.0</span>, <span class='kw'>timeunit</span> <span class='kw'>=</span> <span class='st'>"year"</span>)
 <span class='fu'>all.equal</span>(<span class='no'>mySim</span>, <span class='no'>mySim2</span>) <span class='co'># fails because time units are all different, so</span>
                          <span class='co'># several parameters that have time units in</span>
                          <span class='co'># "months" because they were loaded that way</span>
 <span class='fu'><a href='params.html'>params</a></span>(<span class='no'>mySim</span>)$<span class='no'>fireSpread</span>$<span class='no'>.plotInitialTime</span>
 <span class='fu'><a href='params.html'>params</a></span>(<span class='no'>mySim2</span>)$<span class='no'>fireSpread</span>$<span class='no'>.plotInitialTime</span>
 <span class='fu'><a href='simList-accessors-events.html'>events</a></span>(<span class='no'>mySim</span>) <span class='co'># load event is at time 1 year</span>
 <span class='fu'><a href='simList-accessors-events.html'>events</a></span>(<span class='no'>mySim2</span>) <span class='co'># load event is at time 1 month, reported in years because of</span>
                <span class='co'>#   update to times above</span>
}
<span class='co'># }</span><div class='input'>
</div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
    <h2>Contents</h2>
    <ul class="nav nav-pills nav-stacked">
      <li><a href="#arguments">Arguments</a></li>
      
      <li><a href="#value">Value</a></li>

      <li><a href="#details">Details</a></li>

      <li><a href="#note">Note</a></li>

      <li><a href="#parsing-and-checking-code">Parsing and Checking Code</a></li>

      <li><a href="#caching">Caching</a></li>

      <li><a href="#references">References</a></li>

      <li><a href="#see-also">See also</a></li>
      
      <li><a href="#examples">Examples</a></li>
    </ul>

    <h2>Author</h2>
    
Alex Chubaty and Eliot McIntire

  </div>
</div>

      <footer>
      <div class="copyright">
  <p>Developed by Alex M Chubaty, Eliot J B McIntire.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="http://pkgdown.r-lib.org/">pkgdown</a>.</p>
</div>

      </footer>
   </div>

  

  </body>
</html>

