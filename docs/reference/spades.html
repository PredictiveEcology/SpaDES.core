<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Run a spatial discrete event simulation — spades • SpaDES.core</title><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.4.0/flatly/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css"><script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script src="../pkgdown.js"></script><meta property="og:title" content="Run a spatial discrete event simulation — spades"><meta property="og:description" content="Here, we implement a simulation in a more modular fashion so it's easier to add
submodules to the simulation. We use S4 classes and methods, and use data.table
instead of data.frame to implement the event queue (because it is much faster)."><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--><!-- Global site tag (gtag.js) - Google Analytics --><script async src="https://www.googletagmanager.com/gtag/js?id=UA-58633549-6"></script><script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-58633549-6');
</script></head><body data-spy="scroll" data-target="#toc">
    

    <div class="container template-reference-topic">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">SpaDES.core</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">1.0.10</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu"><li>
      <a href="../articles/i-introduction.html">01 Introduction to `SpaDES`</a>
    </li>
    <li>
      <a href="../articles/ii-modules.html">02 Building `SpaDES` modules</a>
    </li>
    <li>
      <a href="../articles/iii-cache.html">03 Caching `SpaDES` simulations</a>
    </li>
    <li>
      <a href="../articles/iv-advanced.html">04 Advanced `SpaDES` use</a>
    </li>
    <li>
      <a href="../articles/v-automated-testing.html">05 Automated module testing</a>
    </li>
  </ul></li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul><ul class="nav navbar-nav navbar-right"><li>
  <a href="https://github.com/PredictiveEcology/SpaDES.core/" class="external-link">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Run a spatial discrete event simulation</h1>
    <small class="dont-index">Source: <a href="https://github.com/PredictiveEcology/SpaDES.core/blob/HEAD/R/simulation-spades.R" class="external-link"><code>R/simulation-spades.R</code></a></small>
    <div class="hidden name"><code>spades.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Here, we implement a simulation in a more modular fashion so it's easier to add
submodules to the simulation. We use S4 classes and methods, and use <code>data.table</code>
instead of <code>data.frame</code> to implement the event queue (because it is much faster).</p>
    </div>

    <div id="ref-usage">
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="fu">spades</span><span class="op">(</span>
  <span class="va">sim</span>,
  debug <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/options.html" class="external-link">getOption</a></span><span class="op">(</span><span class="st">"spades.debug"</span><span class="op">)</span>,
  progress <span class="op">=</span> <span class="cn">NA</span>,
  <span class="va">cache</span>,
  .plotInitialTime <span class="op">=</span> <span class="cn">NULL</span>,
  .saveInitialTime <span class="op">=</span> <span class="cn">NULL</span>,
  notOlderThan <span class="op">=</span> <span class="cn">NULL</span>,
  events <span class="op">=</span> <span class="cn">NULL</span>,
  .plots <span class="op">=</span> <span class="cn">NULL</span>,
  <span class="va">...</span>
<span class="op">)</span>

<span class="co"># S4 method for simList,ANY,ANY,missing</span>
<span class="fu">spades</span><span class="op">(</span>
  <span class="va">sim</span>,
  debug <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/options.html" class="external-link">getOption</a></span><span class="op">(</span><span class="st">"spades.debug"</span><span class="op">)</span>,
  progress <span class="op">=</span> <span class="cn">NA</span>,
  <span class="va">cache</span>,
  .plotInitialTime <span class="op">=</span> <span class="cn">NULL</span>,
  .saveInitialTime <span class="op">=</span> <span class="cn">NULL</span>,
  notOlderThan <span class="op">=</span> <span class="cn">NULL</span>,
  events <span class="op">=</span> <span class="cn">NULL</span>,
  .plots <span class="op">=</span> <span class="cn">NULL</span>,
  <span class="va">...</span>
<span class="op">)</span>

<span class="co"># S4 method for ANY,ANY,ANY,logical</span>
<span class="fu">spades</span><span class="op">(</span>
  <span class="va">sim</span>,
  debug <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/options.html" class="external-link">getOption</a></span><span class="op">(</span><span class="st">"spades.debug"</span><span class="op">)</span>,
  progress <span class="op">=</span> <span class="cn">NA</span>,
  <span class="va">cache</span>,
  .plotInitialTime <span class="op">=</span> <span class="cn">NULL</span>,
  .saveInitialTime <span class="op">=</span> <span class="cn">NULL</span>,
  notOlderThan <span class="op">=</span> <span class="cn">NULL</span>,
  events <span class="op">=</span> <span class="cn">NULL</span>,
  .plots <span class="op">=</span> <span class="cn">NULL</span>,
  <span class="va">...</span>
<span class="op">)</span></code></pre></div>
    </div>

    <div id="arguments">
    <h2>Arguments</h2>
    <dl><dt>sim</dt>
<dd><p>A <code>simList</code> simulation object, generally produced by <code>simInit</code>.</p></dd>
<dt>debug</dt>
<dd><p>Optional tools for invoking debugging. Supplying a <code>list</code>
will invoke the more powerful <code>logging</code> package. See details.
Default is to use the value in <code>getOption("spades.debug")</code>.</p></dd>
<dt>progress</dt>
<dd><p>Logical (<code>TRUE</code> or <code>FALSE</code> show a graphical progress bar),
character (<code>"graphical"</code>, <code>"text"</code>) or numeric indicating
the number of update intervals to show in a graphical progress bar.</p></dd>
<dt>cache</dt>
<dd><p>Logical. If <code>TRUE</code>, then the <code>spades</code> call will be cached.
This means that if the call is made again with the same <code>simList</code>,
then `spades`` will return the return value from the previous run
of that exact same <code>simList</code>. Default <code>FALSE</code>. See Details.
See also the vignette on caching for examples.</p></dd>
<dt>.plotInitialTime</dt>
<dd><p>Numeric. Temporarily override the <code>.plotInitialTime</code>
parameter for all modules. See Details.</p></dd>
<dt>.saveInitialTime</dt>
<dd><p>Numeric. Temporarily override the <code>.plotInitialTime</code>
parameter for all modules. See Details.</p></dd>
<dt>notOlderThan</dt>
<dd><p>Date or time. Passed to <code><a href="https://reproducible.predictiveecology.org/reference/Cache.html" class="external-link">reproducible::Cache</a></code> to update the cache.
Default is <code>NULL</code>, meaning don't update the cache.
If <code><a href="https://rdrr.io/r/base/Sys.time.html" class="external-link">Sys.time()</a></code> is provided, then it will force a recache,
i.e., remove old value and replace with new value.
Ignored if <code>cache</code> is <code>FALSE</code>.</p></dd>
<dt>events</dt>
<dd><p>A character vector or a named list of character vectors. If specified,
the simulations will only do the events indicated here. If a named list, the names
must correspond to the modules and the character vectors can be specific events within
each of the named modules. With the <code>list</code> form, all unspecified modules
will run <em>all</em> their events, including internal spades modules, e.g., <code>save</code>,
that get invoked with the <code>outputs</code> argument in  <code>simInit</code>. See example.</p></dd>
<dt>.plots</dt>
<dd><p>Character. Sets the parameter of this name in all modules.
See <code><a href="Plots.html">Plots</a></code> for possible values. The parameter is intended to slowly
take over from <code>.plotInitialTime</code> as a mechanism to turn on or off plotting.
For backwards compatibility, if <code>.plotInitialTime</code> is not set
in this <code>spades</code> call, but this
<code>.plots</code> is used, two things will happen: setting this without <code>"screen"</code>
will turn off all plotting; setting this with <code>"screen"</code> will trigger
plotting for any modules that use this parameter but will have no effect on
other modules. To get plotting, therefore, it may be necessary to also set
<code>.plotInitialTime = start(sim)</code>.</p></dd>
<dt>...</dt>
<dd><p>Any. Can be used to make a unique cache identity, such as "replicate = 1".
This will be included in the <code>Cache</code> call, so will be unique
and thus <code>spades</code> will not use a cached copy as long as
anything passed in <code>...</code> is unique, i.e., not cached previously.</p></dd>
</dl></div>
    <div id="value">
    <h2>Value</h2>
    <p>Invisibly returns the modified <code>simList</code> object.</p>
    </div>
    <div id="details">
    <h2>Details</h2>
    <p>The is the workhorse function in the SpaDES package. It runs simulations by
implementing the rules outlined in the <code>simList</code>.</p>
<p>This function gives simple access to two sets of module parameters:
<code>.plotInitialTime</code> and with <code>.plotInitialTime</code>. The primary use of
these arguments is to temporarily turn off plotting and saving. "Temporary"
means that the <code>simList</code> is not changed, so it can be used again with
the simList values reinstated. To turn off plotting and saving, use
<code>.plotInitialTime = NA</code> or <code>.saveInitialTime = NA</code>. NOTE: if a
module did not use <code>.plotInitialTime</code> or <code>.saveInitialTime</code>, then
these arguments will not do anything.</p>
    </div>
    <div id="note">
    <h2>Note</h2>
    <p>The debug option is primarily intended to facilitate building simulation
models by the user.
Will print additional outputs informing the user of updates to the values of
various <code>simList</code> slot components.
See <a href="https://github.com/PredictiveEcology/SpaDES/wiki/Debugging" class="external-link">https://github.com/PredictiveEcology/SpaDES/wiki/Debugging</a> for details.</p>
    </div>
    <div id="caching-with-spades">
    <h2>Caching with SpaDES</h2>
    


<p>There are numerous ways in which Caching can be used within SpaDES. Please
see the vignette
<a href="https://CRAN.R-project.org/package=SpaDES.core/vignettes/iii-cache.html" class="external-link">https://CRAN.R-project.org/package=SpaDES.core/vignettes/iii-cache.html</a>
for many examples. Briefly, functions, events, modules, entire spades calls or
experiment calls (see <a href="https://github.com/PredictiveEcology/SpaDES.experiment" class="external-link">https://github.com/PredictiveEcology/SpaDES.experiment</a>)
can be cached and mixtures of all of these will work. For functions, simply
wrap the call with <code>Cache</code>, moving the original function name into
the first argument of Cache. For events or modules, set the module <code>parameters</code>,
<code>.useCache</code>, e.g.,
<code>simInit(..., parameters = list(myModule = list(.useCache = "init")))</code>.
This can be set to an event name, which will cache that event, or a logical (e.g., <code></code>),
which will cache <em>every</em> event in that module. Event and module caching
makes most sense when the event or module only runs once, such as an initialization
or data preparation event/module. Caching an entire simulation is actually just
a function call to <code>simInitAndSpades</code>, for example. So, simply writing
<code>Cache(simInitAndSpades, modules = ...)</code> will effectively cache a whole simulation.
Finally for experiments, it is just like a function call:
<code>Cache(simInitandExperiment, ...)</code>. The final way Caching can be done is in
<code>experiment</code> or <code>spades</code>, by setting the <code>cache</code> argument.</p>
<p>If <code>cache</code> is TRUE, this allows for a seamless way to "save" results
of a simulation. The  user does not have to intentionally do any saving manually.
Instead, upon a call to <code>spades</code> in which the simList is identical,
the function will simply return the result that would have come if it had
been rerun. Use this with caution, as it will return exactly the result from
a previous run, even if there is stochasticity internally.
Caching is only based on the input simList.
See also the vignette on caching for examples.</p>
    </div>
    <div id="debug">
    <h2><code>debug</code></h2>
    


<p>The most powerful way to use debug is to invoke the <code>logging</code>
R package. To invoke this, <code>debug</code> must be a list with up to 3
named elements:
<code>console</code>, <code>file</code>, and <code>debug</code>. Each of these list elements
must be a list (including empty <code><a href="https://rdrr.io/r/base/list.html" class="external-link">list()</a></code> for defaults) with the
sub-list elements here:</p><table class="table table"><tr><td><code>console</code></td><td><code>level</code></td><td>The <code>level</code>, see below, of information shown</td></tr><tr><td><code>file</code></td><td><code>append</code></td><td>Logical. If <code>TRUE</code>, the default, then
log entries are appended to file, if it exists</td></tr><tr><td></td><td><code>file</code></td><td>A filename. Defaults to <code>log.txt</code></td></tr><tr><td></td><td><code>level</code></td><td>The <code>level</code>, see below, of information shown</td></tr><tr><td><code>debug</code></td><td>See possible values below</td><td></td></tr></table><p><code>level</code> can be a number from 0 to 100 or a character string matching one
of the values in <code><a href="https://rdrr.io/pkg/logging/man/loglevels.html" class="external-link">logging::loglevels</a></code>. These are hierarchical levels of
information passed to the console. Set a lower number for more information and a
higher number for less information. Errors in code will be shown if <code>level</code>
is set to <code>"ERROR"</code> or <code>40</code> or above; warnings in code will be shown if
<code>level</code> is set to <code>"WARN"</code> or <code>30</code> or above;
normal messages in code will
be shown if <code>level</code> is set to <code>"INFO"</code> or <code>20</code> or above. For
consistency with base R messaging, if default level is used, then normal
messaging via <code>message</code> will be shown; this means that <code>suppressMessages</code>
will work to suppress messaging only when level is set to <code>"INFO"</code> or <code>20</code>.
Some functions in the SpaDES ecosystem may have information at the lower levels,
but currently, there are few to none.</p>
<p><code>debug</code> is specified as a non-list argument to <code>spades</code> or as
<code>list(debug = ...)</code>, then it can be a logical, a quoted call, a character vector
or a numeric scalar (currently 1 or 2) or a list of any of these to get multiple
outputs. This will be run at the start of every event. The following options for debug
are available. Each of these can also be in a list to get multiple outputs:</p>
<table class="table table"><tr><td><code>TRUE</code></td><td><code>current(sim)</code> will be printed at the start of each event as
it runs</td></tr><tr><td>a function name (as character string)</td><td>If a function, then it will be run on the
simList, e.g., "time" will run
<code>time(sim)</code> at each event.</td></tr><tr><td>moduleName (as character string)</td><td>All calls to that module will be entered
interactively</td></tr><tr><td>eventName (as character string)</td><td>All calls that have that event name (in any module)
will be entered interactively</td></tr><tr><td><code>c(&lt;moduleName&gt;, &lt;eventName&gt;)</code></td><td>Only the event in that specified module
will be entered into.</td></tr><tr><td>Any other R expression expressed as a character string or quoted call</td><td>Will be evaluated with access to the simList as 'sim'.
If this is more than one character string, then all will
be printed to the screen in their sequence.</td></tr><tr><td>A numeric scalar, currently 1 or 2 (maybe others)</td><td>This will print out alternative forms of event
information that users may find useful</td></tr></table><p>If not specified in the function call, the package
option <code>spades.debug</code> is used.</p>
<p>If <code>options("spades.browserOnError" = TRUE)</code> (experimental still) if
there is an error, it will attempt to open a browser
in the event where the error occurred. You can edit, and then press <code>c</code> to continue
or <code>Q</code> to quit, plus all other normal interactive browser tools.
<code>c</code> will trigger a reparse and events will continue as scheduled, starting
with the one just edited. There may be some unexpected consequences if the
<code>simList</code> objects had already been changed before the error occurred.</p>
    </div>
    <div id="references">
    <h2>References</h2>
    <p>Matloff, N. (2011). The Art of R Programming (ch. 7.8.3).
San Francisco, CA: No Starch Press, Inc..
Retrieved from <a href="https://nostarch.com/artofr.htm" class="external-link">https://nostarch.com/artofr.htm</a></p>
    </div>
    <div id="see-also">
    <h2>See also</h2>
    <div class="dont-index"><p><code><a href="SpaDES.core-package.html">SpaDES.core-package</a></code>,
<code><a href="simInit.html">simInit</a></code>, and the caching vignette (very important for reproducibility):
<a href="https://CRAN.R-project.org/package=SpaDES.core/vignettes/iii-cache.html" class="external-link">https://CRAN.R-project.org/package=SpaDES.core/vignettes/iii-cache.html</a> which
uses <code><a href="https://reproducible.predictiveecology.org/reference/Cache.html" class="external-link">Cache</a></code>.</p></div>
    </div>
    <div id="author">
    <h2>Author</h2>
    <p>Alex Chubaty and Eliot McIntire</p>
    </div>

    <div id="ref-examples">
    <h2>Examples</h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span class="kw">if</span> <span class="op">(</span><span class="cn">FALSE</span><span class="op">)</span> <span class="op">{</span></span>
<span class="r-in"><span class="va">mySim</span> <span class="op">&lt;-</span> <span class="fu"><a href="simInit.html">simInit</a></span><span class="op">(</span></span>
<span class="r-in"> times <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>start <span class="op">=</span> <span class="fl">0.0</span>, end <span class="op">=</span> <span class="fl">2.0</span>, timeunit <span class="op">=</span> <span class="st">"year"</span><span class="op">)</span>,</span>
<span class="r-in"> params <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span>
<span class="r-in">   .globals <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>stackName <span class="op">=</span> <span class="st">"landscape"</span>, burnStats <span class="op">=</span> <span class="st">"nPixelsBurned"</span><span class="op">)</span></span>
<span class="r-in"> <span class="op">)</span>,</span>
<span class="r-in"> modules <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="st">"randomLandscapes"</span>, <span class="st">"fireSpread"</span>, <span class="st">"caribouMovement"</span><span class="op">)</span>,</span>
<span class="r-in"> paths <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>modulePath <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/system.file.html" class="external-link">system.file</a></span><span class="op">(</span><span class="st">"sampleModules"</span>, package <span class="op">=</span> <span class="st">"SpaDES.core"</span><span class="op">)</span><span class="op">)</span></span>
<span class="r-in"><span class="op">)</span></span>
<span class="r-in"><span class="fu">spades</span><span class="op">(</span><span class="va">mySim</span><span class="op">)</span></span>
<span class="r-in"></span>
<span class="r-in"><span class="co"># set default debug printing for the current session</span></span>
<span class="r-in"><span class="co"># setOption(spades.debug = TRUE)</span></span>
<span class="r-in"></span>
<span class="r-in"><span class="co"># Different debug options (overrides the package option 'spades.debug')</span></span>
<span class="r-in"><span class="fu">spades</span><span class="op">(</span><span class="va">mySim</span>, debug <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span> <span class="co"># Fastest</span></span>
<span class="r-in"><span class="fu">spades</span><span class="op">(</span><span class="va">mySim</span>, debug <span class="op">=</span> <span class="st">"simList"</span><span class="op">)</span></span>
<span class="r-in"><span class="fu">spades</span><span class="op">(</span><span class="va">mySim</span>, debug <span class="op">=</span> <span class="st">"print(table(sim$landscape$Fires[]))"</span><span class="op">)</span></span>
<span class="r-in"><span class="co"># To get a combination -- use list(debug = list(..., ...))</span></span>
<span class="r-in"><span class="fu">spades</span><span class="op">(</span><span class="va">mySim</span>, debug <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>debug <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fu"><a href="https://rdrr.io/r/base/substitute.html" class="external-link">quote</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/pkg/raster/man/as.data.frame.html" class="external-link">as.data.frame</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/table.html" class="external-link">table</a></span><span class="op">(</span><span class="va">sim</span><span class="op">$</span><span class="va">landscape</span><span class="op">$</span><span class="va">Fires</span><span class="op">[</span><span class="op">]</span><span class="op">)</span><span class="op">)</span><span class="op">)</span><span class="op">)</span><span class="op">)</span><span class="op">)</span></span>
<span class="r-in"></span>
<span class="r-in"><span class="co"># Can turn off plotting, and inspect the output simList instead</span></span>
<span class="r-in"><span class="va">out</span> <span class="op">&lt;-</span> <span class="fu">spades</span><span class="op">(</span><span class="va">mySim</span>, .plotInitialTime <span class="op">=</span> <span class="cn">NA</span><span class="op">)</span> <span class="co"># much faster</span></span>
<span class="r-in"><span class="fu"><a href="simList-accessors-events.html">completed</a></span><span class="op">(</span><span class="va">out</span><span class="op">)</span> <span class="co"># shows completed events</span></span>
<span class="r-in"></span>
<span class="r-in"><span class="co"># use cache -- simInit should generally be rerun each time a spades call is made</span></span>
<span class="r-in"><span class="co">#   to guarantee that it is identical. Here, run spades call twice, first</span></span>
<span class="r-in"><span class="co">#   time to establish cache, second time to return cached result</span></span>
<span class="r-in"><span class="kw">for</span> <span class="op">(</span><span class="va">i</span> <span class="kw">in</span> <span class="fl">1</span><span class="op">:</span><span class="fl">2</span><span class="op">)</span> <span class="op">{</span></span>
<span class="r-in"> <span class="va">mySim</span> <span class="op">&lt;-</span> <span class="fu"><a href="simInit.html">simInit</a></span><span class="op">(</span></span>
<span class="r-in">   times <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>start <span class="op">=</span> <span class="fl">0.0</span>, end <span class="op">=</span> <span class="fl">2.0</span>, timeunit <span class="op">=</span> <span class="st">"year"</span><span class="op">)</span>,</span>
<span class="r-in">   params <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span>
<span class="r-in">     .globals <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>stackName <span class="op">=</span> <span class="st">"landscape"</span>, burnStats <span class="op">=</span> <span class="st">"nPixelsBurned"</span><span class="op">)</span></span>
<span class="r-in">   <span class="op">)</span>,</span>
<span class="r-in">   modules <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="st">"randomLandscapes"</span>, <span class="st">"fireSpread"</span>, <span class="st">"caribouMovement"</span><span class="op">)</span>,</span>
<span class="r-in">   paths <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>modulePath <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/system.file.html" class="external-link">system.file</a></span><span class="op">(</span><span class="st">"sampleModules"</span>, package <span class="op">=</span> <span class="st">"SpaDES.core"</span><span class="op">)</span><span class="op">)</span></span>
<span class="r-in"> <span class="op">)</span></span>
<span class="r-in"> <span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/system.time.html" class="external-link">system.time</a></span><span class="op">(</span><span class="va">out</span> <span class="op">&lt;-</span> <span class="fu">spades</span><span class="op">(</span><span class="va">mySim</span>, cache <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span><span class="op">)</span><span class="op">)</span></span>
<span class="r-in"><span class="op">}</span></span>
<span class="r-in"></span>
<span class="r-in"><span class="co"># E.g., with only the init events</span></span>
<span class="r-in"><span class="va">outInitsOnly</span> <span class="op">&lt;-</span> <span class="fu">spades</span><span class="op">(</span><span class="va">mySim</span>, events <span class="op">=</span> <span class="st">"init"</span><span class="op">)</span></span>
<span class="r-in"></span>
<span class="r-in"><span class="co"># or more fine grained control</span></span>
<span class="r-in"><span class="va">outSomeEvents</span> <span class="op">&lt;-</span> <span class="fu">spades</span><span class="op">(</span><span class="va">mySim</span>,</span>
<span class="r-in">        events <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>randomLandscapes <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"init"</span><span class="op">)</span>,</span>
<span class="r-in">                      fireSpread <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"init"</span>, <span class="st">"burn"</span><span class="op">)</span><span class="op">)</span><span class="op">)</span></span>
<span class="r-in"></span>
<span class="r-in"><span class="co"># with outputs, the save module gets invoked and must be explicitly limited to "init"</span></span>
<span class="r-in"><span class="va">mySim</span> <span class="op">&lt;-</span> <span class="fu"><a href="simInit.html">simInit</a></span><span class="op">(</span></span>
<span class="r-in"> times <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>start <span class="op">=</span> <span class="fl">0.0</span>, end <span class="op">=</span> <span class="fl">2.0</span>, timeunit <span class="op">=</span> <span class="st">"year"</span><span class="op">)</span>,</span>
<span class="r-in"> params <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span>
<span class="r-in">   .globals <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>stackName <span class="op">=</span> <span class="st">"landscape"</span>, burnStats <span class="op">=</span> <span class="st">"nPixelsBurned"</span><span class="op">)</span></span>
<span class="r-in"> <span class="op">)</span>,</span>
<span class="r-in"> modules <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="st">"randomLandscapes"</span>, <span class="st">"fireSpread"</span>, <span class="st">"caribouMovement"</span><span class="op">)</span>,</span>
<span class="r-in"> outputs <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span>objectName <span class="op">=</span> <span class="st">"landscape"</span>, saveTime <span class="op">=</span> <span class="fl">0</span><span class="op">:</span><span class="fl">2</span><span class="op">)</span>,</span>
<span class="r-in"> paths <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>modulePath <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/system.file.html" class="external-link">system.file</a></span><span class="op">(</span><span class="st">"sampleModules"</span>, package <span class="op">=</span> <span class="st">"SpaDES.core"</span><span class="op">)</span><span class="op">)</span></span>
<span class="r-in"><span class="op">)</span></span>
<span class="r-in"><span class="co"># This will print a message saying that caribouMovement will run its events</span></span>
<span class="r-in"><span class="va">outSomeEvents</span> <span class="op">&lt;-</span> <span class="fu">spades</span><span class="op">(</span><span class="va">mySim</span>,</span>
<span class="r-in">        events <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>randomLandscapes <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"init"</span><span class="op">)</span>,</span>
<span class="r-in">                      fireSpread <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"init"</span>, <span class="st">"burn"</span><span class="op">)</span>,</span>
<span class="r-in">                      save <span class="op">=</span> <span class="st">"init"</span><span class="op">)</span><span class="op">)</span></span>
<span class="r-in"><span class="op">}</span></span>
<span class="r-in"></span>
</code></pre></div>
    </div>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>
</div>


      <footer><div class="copyright">
  <p></p><p>Developed by Alex M Chubaty, Eliot J B McIntire.</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.1.</p>
</div>

      </footer></div>

  


  

  </body></html>

