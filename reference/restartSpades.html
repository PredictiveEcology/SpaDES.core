<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Restart an interrupted simulation — restartSpades • SpaDES.core</title><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.4.0/flatly/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css"><script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script src="../pkgdown.js"></script><meta property="og:title" content="Restart an interrupted simulation — restartSpades"><meta property="og:description" content="This is very experimental and has not been thoroughly tested. Use with caution.
This function will re-parse a single module (currently) into the simList
where its source code should reside, and then optionally restart a simulation
that stopped on an error, presumably after the developer has modified the
source code of the module that caused the break.
This will restart the simulation at the next event in the event queue
(i.e., returned by events(sim)). Because of this, this function will
not do anything if the event queue is empty."><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--><!-- Global site tag (gtag.js) - Google Analytics --><script async src="https://www.googletagmanager.com/gtag/js?id=UA-58633549-6"></script><script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-58633549-6');
</script></head><body data-spy="scroll" data-target="#toc">
    

    <div class="container template-reference-topic">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">SpaDES.core</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">2.0.3</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu"><li>
      <a href="../articles/i-introduction.html">01 Introduction to `SpaDES`</a>
    </li>
    <li>
      <a href="../articles/ii-modules.html">02 Building `SpaDES` modules</a>
    </li>
    <li>
      <a href="../articles/iii-cache.html">03 Caching `SpaDES` simulations</a>
    </li>
    <li>
      <a href="../articles/iv-advanced.html">04 Advanced `SpaDES` use</a>
    </li>
    <li>
      <a href="../articles/v-automated-testing.html">05 Automated module testing</a>
    </li>
  </ul></li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul><ul class="nav navbar-nav navbar-right"><li>
  <a href="https://github.com/PredictiveEcology/SpaDES.core/" class="external-link">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Restart an interrupted simulation</h1>
    <small class="dont-index">Source: <a href="https://github.com/PredictiveEcology/SpaDES.core/blob/HEAD/R/restart.R" class="external-link"><code>R/restart.R</code></a></small>
    <div class="hidden name"><code>restartSpades.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>This is very experimental and has not been thoroughly tested. Use with caution.
This function will re-parse a single module (currently) into the <code>simList</code>
where its source code should reside, and then optionally restart a simulation
that stopped on an error, presumably after the developer has modified the
source code of the module that caused the break.
This will restart the simulation at the next event in the event queue
(i.e., returned by <code>events(sim)</code>). Because of this, this function will
not do anything if the event queue is empty.</p>
    </div>

    <div id="ref-usage">
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">restartSpades</span><span class="op">(</span>sim <span class="op">=</span> <span class="cn">NULL</span>, module <span class="op">=</span> <span class="cn">NULL</span>, numEvents <span class="op">=</span> <span class="cn">Inf</span>, restart <span class="op">=</span> <span class="cn">TRUE</span>, <span class="va">...</span><span class="op">)</span></span></code></pre></div>
    </div>

    <div id="arguments">
    <h2>Arguments</h2>
    <dl><dt>sim</dt>
<dd><p>A <code>simList.</code> If not supplied (the default), this will take the <code>sim</code> from
<code>SpaDES.core:::.pkgEnv$.sim</code>, i.e., the one that was interrupted</p></dd>


<dt>module</dt>
<dd><p>A character string length one naming the module that caused the error and
whose source code was fixed. This module will be re-parsed and placed into the <code>simList</code></p></dd>


<dt>numEvents</dt>
<dd><p>Numeric. Default is Inf (i.e., all available). In the <code>simList</code>, if
<code>options('spades.recoveryMode')</code> is set to <code>TRUE</code> or a numeric, then
there will be a list in the <code>simList</code> called <code>.recoverableObjs</code>. These will be
replayed backwards in time to reproduce the initial state of the <code>simList</code> before
the event that is <code>numEvents</code> back from the first event in <code>events(sim)</code>.</p></dd>


<dt>restart</dt>
<dd><p>Logical. If <code>TRUE</code>, then the call to <code>spades</code> will be made, i.e.,
restarting the simulation. If <code>FALSE</code>, then it will return a new <code>simList</code>
with the module code parsed into the <code>simList</code></p></dd>


<dt>...</dt>
<dd><p>Passed to <code>spades</code>, e.g., <code>debug</code>, <code>.plotInitialTime</code></p></dd>

</dl></div>
    <div id="value">
    <h2>Value</h2>
    

<p>A <code>simList</code> as if <code>spades</code> had been called on a <code>simList</code>.</p>
    </div>
    <div id="details">
    <h2>Details</h2>
    <p>This will only parse the source code from the named module. It will not affect any
objects that are in the <code>mod</code> or <code>sim</code>.</p>
<p>The random number seed will be reset to the state it was at the start of the
earliest event recovered, thereby returning to the exact stochastic simulation
trajectory.</p>
    </div>
    <div id="note">
    <h2>Note</h2>
    <p>This will only work reliably
<em>if the <code>simList</code> was not modified yet during the event which caused the error</em>.
The <code>simList</code> will be in the state it was at the time of the error.</p>
    </div>

    <div id="ref-examples">
    <h2>Examples</h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="co"># \donttest{</span></span></span>
<span class="r-in"><span><span class="co"># options("spades.recoveryMode" = 1) # now the default</span></span></span>
<span class="r-in"><span><span class="va">s</span> <span class="op">&lt;-</span> <span class="fu"><a href="simInit.html">simInit</a></span><span class="op">(</span><span class="op">)</span></span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Setting:</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span>   options(</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span>     reproducible.cachePath = '/tmp/Rtmp1xa6p9/myProject/cache'</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span>     spades.inputPath = '/tmp/Rtmp1xa6p9/myProject/inputs'</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span>     spades.outputPath = '/tmp/Rtmp1xa6p9/myProject/outputs'</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span>     spades.modulePath = '/tmp/Rtmp1xa6p9/myProject/modules'</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span>     spades.scratchPath = '/tmp/Rtmp1xa6p9/SpaDES/scratch'</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span>   )</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Apr09 18:08:23 simInit Using setDTthreads(1). To change: 'options(spades.DTthreads = X)'.</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Elpsed time for simInit: 0.02659297 secs</span>
<span class="r-in"><span><span class="va">s</span> <span class="op">&lt;-</span> <span class="fu"><a href="spades.html">spades</a></span><span class="op">(</span><span class="va">s</span><span class="op">)</span> <span class="co"># if this is interrupted or fails</span></span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Apr09 18:08:23 simInit Using setDTthreads(1). To change: 'options(spades.DTthreads = X)'.</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Apr09 18:08:23 chckpn:<span style="color: #00BB00;">init</span> <span style="color: #00BB00;">total elpsd: 0.028 secs | 0 checkpoint init 0</span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Apr09 18:08:23 save  :<span style="color: #00BB00;">init</span> <span style="color: #00BB00;">total elpsd: 0.03 secs | 0 save init 0</span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Apr09 18:08:23 prgrss:<span style="color: #00BB00;">init</span> <span style="color: #00BB00;">total elpsd: 0.032 secs | 0 progress init 0</span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Apr09 18:08:23 load  :<span style="color: #00BB00;">init</span> <span style="color: #00BB00;">total elpsd: 0.034 secs | 0 load init 0</span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> <span style="color: #BB00BB;">simList saved in</span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> <span style="color: #0000BB;">SpaDES.core:::.pkgEnv$.sim</span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> <span style="color: #BB00BB;">It will be deleted at next spades() call.</span></span>
<span class="r-in"><span><span class="co"># the following line will not work if the previous line didn't fail</span></span></span>
<span class="r-in"><span><span class="va">s</span> <span class="op">&lt;-</span> <span class="fu">restartSpades</span><span class="op">(</span><span class="va">s</span><span class="op">)</span> <span class="co"># don't need to specify `sim` if previous line fails</span></span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> This is very experimental and will only work if the event that caused the error has not yet changed the simList.</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> This should be used with caution.</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> There was no interrupted spades call; returning sim as is</span>
<span class="r-in"><span>                     <span class="co"># will take from SpaDES.core:::.pkgEnv$.sim automatically</span></span></span>
<span class="r-in"><span><span class="co"># }</span></span></span>
</code></pre></div>
    </div>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>
</div>


      <footer><div class="copyright">
  <p></p><p>Developed by Alex M Chubaty, Eliot J B McIntire.</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

      </footer></div>

  


  

  </body></html>

