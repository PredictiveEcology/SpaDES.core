<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en-CA"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Time usage in SpaDES — times • SpaDES.core</title><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.1/jquery.min.js" integrity="sha512-v2CJ7UaYy4JwqLDIrZUI/4hqeoQieOmAZNXBeQyjo21dadnwR+8ZaIJVT8EE2iyI61OV8e6M8PP2/4hpQINQ/g==" crossorigin="anonymous" referrerpolicy="no-referrer"></script><!-- Bootstrap --><link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.4.0/flatly/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css"><script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script src="../pkgdown.js"></script><meta property="og:title" content="Time usage in SpaDES — times"><meta property="og:description" content="Functions for the simtimes slot of a simList object
and its elements. To maintain modularity, the behaviour of these functions depends
on where they are used. In other words, different modules can have their own
timeunit. SpaDES converts these to seconds when running a simulation, but
shows the user time in the units of the model as shown with timeunit(sim)"><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--><!-- Global site tag (gtag.js) - Google Analytics --><script async src="https://www.googletagmanager.com/gtag/js?id=UA-58633549-6"></script><script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-58633549-6');
</script></head><body data-spy="scroll" data-target="#toc">


    <div class="container template-reference-topic">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">SpaDES.core</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">2.1.6</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Articles

    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu"><li>
      <a href="../articles/i-introduction.html">01 Introduction to `SpaDES`</a>
    </li>
    <li>
      <a href="../articles/ii-modules.html">02 Building `SpaDES` modules</a>
    </li>
    <li>
      <a href="../articles/iii-cache.html">03 Caching `SpaDES` simulations</a>
    </li>
    <li>
      <a href="../articles/iv-advanced.html">04 Advanced `SpaDES` use</a>
    </li>
    <li>
      <a href="../articles/v-automated-testing.html">05 Automated module testing</a>
    </li>
  </ul></li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul><ul class="nav navbar-nav navbar-right"><li>
  <a href="https://github.com/PredictiveEcology/SpaDES.core/" class="external-link">
    <span class="fab fa-github fa-lg"></span>

  </a>
</li>
      </ul></div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->



      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Time usage in <code>SpaDES</code></h1>
    <small class="dont-index">Source: <a href="https://github.com/PredictiveEcology/SpaDES.core/blob/main/R/simList-accessors.R" class="external-link"><code>R/simList-accessors.R</code></a></small>
    <div class="hidden name"><code>simList-accessors-times.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Functions for the <code>simtimes</code> slot of a <code>simList</code> object
and its elements. To maintain modularity, the behaviour of these functions depends
on where they are used. In other words, different modules can have their own
timeunit. <code>SpaDES</code> converts these to seconds when running a simulation, but
shows the user time in the units of the model as shown with <code>timeunit(sim)</code></p>
    </div>

    <div id="ref-usage">
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">times</span><span class="op">(</span><span class="va">x</span>, <span class="va">...</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># S4 method for class 'simList'</span></span>
<span><span class="fu">times</span><span class="op">(</span><span class="va">x</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">times</span><span class="op">(</span><span class="va">x</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="va">value</span></span>
<span></span>
<span><span class="co"># S4 method for class 'simList'</span></span>
<span><span class="fu">times</span><span class="op">(</span><span class="va">x</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="va">value</span></span>
<span></span>
<span><span class="co"># S3 method for class 'simList'</span></span>
<span><span class="fu"><a href="https://rspatial.github.io/terra/reference/time.html" class="external-link">time</a></span><span class="op">(</span><span class="va">x</span>, <span class="va">unit</span>, <span class="va">...</span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="https://rspatial.github.io/terra/reference/time.html" class="external-link">time</a></span><span class="op">(</span><span class="va">x</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="va">value</span></span>
<span></span>
<span><span class="co"># S4 method for class 'simList'</span></span>
<span><span class="fu"><a href="https://rspatial.github.io/terra/reference/time.html" class="external-link">time</a></span><span class="op">(</span><span class="va">x</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="va">value</span></span>
<span></span>
<span><span class="fu">end</span><span class="op">(</span><span class="va">x</span>, <span class="va">...</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># S3 method for class 'simList'</span></span>
<span><span class="fu">end</span><span class="op">(</span><span class="va">x</span>, <span class="va">unit</span>, <span class="va">...</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">end</span><span class="op">(</span><span class="va">x</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="va">value</span></span>
<span></span>
<span><span class="co"># S4 method for class 'simList'</span></span>
<span><span class="fu">end</span><span class="op">(</span><span class="va">x</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="va">value</span></span>
<span></span>
<span><span class="fu">start</span><span class="op">(</span><span class="va">x</span>, <span class="va">...</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># S3 method for class 'simList'</span></span>
<span><span class="fu">start</span><span class="op">(</span><span class="va">x</span>, unit <span class="op">=</span> <span class="cn">NULL</span>, <span class="va">...</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">start</span><span class="op">(</span><span class="va">x</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="va">value</span></span>
<span></span>
<span><span class="co"># S4 method for class 'simList'</span></span>
<span><span class="fu">start</span><span class="op">(</span><span class="va">x</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="va">value</span></span>
<span></span>
<span><span class="fu">timeunit</span><span class="op">(</span><span class="va">x</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># S4 method for class 'simList'</span></span>
<span><span class="fu">timeunit</span><span class="op">(</span><span class="va">x</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">timeunit</span><span class="op">(</span><span class="va">x</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="va">value</span></span>
<span></span>
<span><span class="co"># S4 method for class 'simList'</span></span>
<span><span class="fu">timeunit</span><span class="op">(</span><span class="va">x</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="va">value</span></span>
<span></span>
<span><span class="fu">timeunits</span><span class="op">(</span><span class="va">x</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># S4 method for class 'simList'</span></span>
<span><span class="fu">timeunits</span><span class="op">(</span><span class="va">x</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">elapsedTime</span><span class="op">(</span><span class="va">x</span>, <span class="va">...</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># S3 method for class 'simList'</span></span>
<span><span class="fu">elapsedTime</span><span class="op">(</span><span class="va">x</span>, byEvent <span class="op">=</span> <span class="cn">TRUE</span>, units <span class="op">=</span> <span class="st">"auto"</span>, <span class="va">...</span><span class="op">)</span></span></code></pre></div>
    </div>

    <div id="arguments">
    <h2>Arguments</h2>


<dl><dt id="arg-x">x<a class="anchor" aria-label="anchor" href="#arg-x"></a></dt>
<dd><p>A <code>simList</code></p></dd>


<dt id="arg--">...<a class="anchor" aria-label="anchor" href="#arg--"></a></dt>
<dd><p>Additional parameters.</p></dd>


<dt id="arg-value">value<a class="anchor" aria-label="anchor" href="#arg-value"></a></dt>
<dd><p>A time, given as a numeric, optionally with a unit attribute,
but this will be deduced from the model time units or module
time units (if used within a module).</p></dd>


<dt id="arg-unit">unit<a class="anchor" aria-label="anchor" href="#arg-unit"></a></dt>
<dd><p>Character. One of the time units used in <code>SpaDES</code>.</p></dd>


<dt id="arg-byevent">byEvent<a class="anchor" aria-label="anchor" href="#arg-byevent"></a></dt>
<dd><p>Logical. If <code>TRUE</code>, the elapsed time will be by module and event;
<code>FALSE</code> will report only by module. Default is <code>TRUE</code>.</p></dd>


<dt id="arg-units">units<a class="anchor" aria-label="anchor" href="#arg-units"></a></dt>
<dd><p>character string.  Units in which the results are
    desired.  Can be abbreviated.</p></dd>

</dl></div>
    <div id="value">
    <h2>Value</h2>
    <p>Returns or sets the value of the slot from the <code>simList</code> object.</p>
    </div>
    <div id="details">
    <h2>Details</h2>
    <p><code>timeunit</code> will extract the current units of the time used in a
simulation (i.e., within a <code>spades</code> call).
If it is set within a <code>simInit</code>, e.g.,
<code>times=list(start=0, end=52, timeunit = "week")</code>, it will set the
units for that simulation.
By default, a <code>simInit</code> call will use the smallest unit contained within
the metadata for the modules being used. If there are parent modules, then the
parent module timeunit will be used even if one of its children is a smaller timeunit.
If all modules, including parents, are set to <code>NA</code>, <code>timeunit</code> defaults to seconds.
If parents are set to <code>NA</code>, then the set of modules defined by that parent module
will be given the smallest units of the children.</p>
<p>Currently, available units are "second", "hours", day", "week", "month", and
"year" can be used in the metadata of a module.</p>
<p>The user can also define a new unit. The unit name can be anything, but the
function definition must be of the form <code>dunitName</code>, e.g., <code>dyear</code>
or <code>dfortnight</code>.
The unit name is the part without the <code>d</code> and the function name definition
includes the <code>d</code>. This new function, e.g.,
<code>dfortnight &lt;- function(x) lubridate::duration(dday(14))</code>
can be placed anywhere in the search path or in a module.</p>
<p><code>timeunits</code> will extract the current units of the time of all
modules used in a simulation.
This is different from <code>timeunit</code> because it is not necessarily
associated with a <code>spades</code> call.</p>
<p>In many cases, the "simpler" use of each of these functions may be slower
computationally. For instance, it is much faster to use <code>time(sim, "year")</code>
than <code>time(sim)</code>. So as a module developer, it is advantageous to
write out the longer one, minimizing the looking up that R must do.</p>
    </div>
    <div id="note">
    <h2>Note</h2>
    <p>These have default behaviour that is based on the calling frame timeunit.
When used inside a module, then the time is in the units of the module.
If used in an interactive mode, then the time will be in the units of the
simulation.</p>
<p>Additional methods are provided to access the current, start, and end times
of the simulation:</p>
<table class="table table"><tr><td><code>time</code></td><td>Current simulation time.</td></tr><tr><td><code>start</code></td><td>Simulation start time.</td></tr><tr><td><code>end</code></td><td>Simulation end time.</td></tr><tr><td><code>timeunit</code></td><td>Simulation timeunit.</td></tr><tr><td><code>timeunits</code></td><td>Module timeunits.</td></tr><tr><td><code>times</code></td><td>List of all simulation times (current, start, end, timeunit).</td></tr></table></div>
    <div id="see-also">
    <h2>See also</h2>
    <div class="dont-index"><p><a href="SpaDES.core-package.html">SpaDES.core-package</a>, specifically the section 1.2.5 on Simulation times;
<code>elapsedTime()</code>,</p>
<p>Other functions to access elements of a 'simList' object:
<code><a href="addDepends.html">.addDepends</a>()</code>,
<code><a href="checkpoint.html">checkpointFile</a>()</code>,
<code><a href="simList-accessors-envir.html">envir</a>()</code>,
<code><a href="simList-accessors-events.html">events</a>()</code>,
<code><a href="globals.html">globals</a>()</code>,
<code><a href="simList-accessors-inputs.html">inputs</a>()</code>,
<code><a href="simList-accessors-modules.html">modules</a>()</code>,
<code><a href="objects.html">objs</a>()</code>,
<code><a href="packages.html">packages</a>()</code>,
<code><a href="params.html">params</a>()</code>,
<code><a href="simList-accessors-paths.html">paths</a>()</code>,
<code><a href="progress.html">progressInterval</a>()</code></p></div>
    </div>
    <div id="author">
    <h2>Author</h2>
    <p>Alex Chubaty and Eliot McIntire</p>
    </div>

    <div id="ref-examples">
    <h2>Examples</h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Elapsed Time</span></span></span>
<span class="r-in"><span><span class="va">s1</span> <span class="op">&lt;-</span> <span class="fu"><a href="simInit.html">simInit</a></span><span class="op">(</span><span class="op">)</span></span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Setting:</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span>   options(</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span>     reproducible.cachePath = '/tmp/RtmpiqS17z/cache'</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span>     spades.inputPath = '/tmp/RtmpiqS17z/inputs'</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span>     spades.outputPath = '/tmp/RtmpiqS17z'</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span>     spades.modulePath = '/tmp/RtmpiqS17z/sampleModules'</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span>     spades.scratchPath = '/tmp/RtmpiqS17z/scratch'</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span>   )</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Jul28 21:14:36 simInit Using setDTthreads(1). To change: 'options(spades.DTthreads = X)'.</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Elapsed time for simInit: 0.02861762 secs</span>
<span class="r-in"><span><span class="va">s2</span> <span class="op">&lt;-</span> <span class="fu"><a href="spades.html">spades</a></span><span class="op">(</span><span class="va">s1</span><span class="op">)</span></span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Jul28 21:14:36 simInit Using setDTthreads(1). To change: 'options(spades.DTthreads = X)'.</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Jul28 21:14:36 chckpn:<span style="color: #00BB00;">init</span> <span style="color: #00BB00;">total elpsd: 0.03 secs | 0 checkpoint init 0</span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Jul28 21:14:36 save  :<span style="color: #00BB00;">init</span> <span style="color: #00BB00;">total elpsd: 0.033 secs | 0 save init 0</span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Jul28 21:14:36 prgrss:<span style="color: #00BB00;">init</span> <span style="color: #00BB00;">total elpsd: 0.036 secs | 0 progress init 0</span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Jul28 21:14:36 load  :<span style="color: #00BB00;">init</span> <span style="color: #00BB00;">total elpsd: 0.039 secs | 0 load init 0</span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> <span style="color: #BB00BB;">simList saved in</span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> <span style="color: #0000BB;">SpaDES.core:::savedSimEnv()$.sim</span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> <span style="color: #BB00BB;">It will be deleted at next spades() call.</span></span>
<span class="r-in"><span><span class="fu">elapsedTime</span><span class="op">(</span><span class="va">s2</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    moduleName eventType elapsedTime</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>        &lt;char&gt;    &lt;char&gt;  &lt;difftime&gt;</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1: checkpoint      init  0.004 secs</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2:       save      init  0.003 secs</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3:   progress      init  0.003 secs</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4:       load      init  0.003 secs</span>
<span class="r-in"><span><span class="fu">elapsedTime</span><span class="op">(</span><span class="va">s2</span>, units <span class="op">=</span> <span class="st">"mins"</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    moduleName eventType elapsedTime</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>        &lt;char&gt;    &lt;char&gt;  &lt;difftime&gt;</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1: checkpoint      init      0 mins</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2:       save      init      0 mins</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3:   progress      init      0 mins</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4:       load      init      0 mins</span>
</code></pre></div>
    </div>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>
</div>


      <footer><div class="copyright">
  <p></p><p>Developed by Alex M Chubaty, Eliot J B McIntire.</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.3.</p>
</div>

      </footer></div>






  </body></html>

